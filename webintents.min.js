(function(){if(!window.Intent){var a=function(a,b,c,d){window.addEventListener?a.addEventListener(b,c,d):a.attachEvent("on"+b,c)},b="http://webintents.org/",c=b,d=c+"intents.html",e=c+"picker.html",f,g={},h={},i=function(){};i.prototype.startActivity=function(a,b){var c="intent"+(new Date).valueOf(),g="beginStart"+c,i=document.all?window.screenLeft:window.screenX,k=document.all?window.screenTop:window.screenY,l="directories=no,menubar=no,status=0,location=0,fullscreen=yes";a._id=c,h[c]={intent:a},f.contentWindow.postMessage(j({request:"beginStartActivity",intent:a}),d),b&&(f.contentWindow.postMessage(j({request:"registerCallback",id:c}),d),h[c].callback=b);var m=window.open(e,g,l);m.resizeTo(300,300),m.moveTo(i+40,document.body.offsetHeight+k)};var j=function(a){return JSON.stringify(a)},k=function(a){var b=JSON.parse(a.data);if(b.request&&b.request=="ready"){var c=b.id,d=h[c];a.source.postMessage(j({request:"startActivity",intent:d.intent}),e)}else b.request&&b.request=="intentData"?l(b.intent):b.request&&b.request=="response"&&h[b.intent._id].callback(b.intent)};a(window,"message",k,!1);var l=function(a){var b=new n;b._id=a._id,b.action=a.action,b.type=a.type,b.data=a.data,window.intent=b},m=function(a,b,c,e,g){!!c==!1&&(c=document.location.toString()),c.substring(0,7)!="http://"&&c.substring(0,8)!="https://"&&(c.substring(0,1)=="/"?c=document.location.origin+c:(path=document.location.href,path=path.substring(0,path.lastIndexOf("/")+1),c=path+c)),f.contentWindow.postMessage(j({request:"register",intent:{action:a,type:b,url:c,title:e,icon:g,domain:window.location.host}}),d)},n=function(a,b,c){var e=this;this.action=a,this.type=b,this.data=c,this.postResult=function(a){var b=new n;b._id=e._id,b.action=e.action,b.data=a,f.contentWindow.postMessage(j({request:"intentResponse",intent:b}),d)}};n.SHARE="http://webintents.org/share",n.SEND="http://webintents.org/send",n.EDIT="http://webintents.org/edit",n.VIEW="http://webintents.org/view",n.PICK="http://webintents.org/pick";var o=function(){var a=document.getElementsByTagName("link"),b;for(var c=0;b=a[c];c++)if((b.rel=="icon"||b.rel=="shortcut")&&!!b.href){var d=b.href;if(d.substring(0,7)=="http://"||d.substring(0,8)=="https://")return d;if(d.substring(0,1)=="/")return document.location.origin+d;path=document.location.href,path=path.substring(0,path.lastIndexOf("/")+1),d=path+d}return window.location.origin+"/favicon.ico"},p=function(){var a=document.getElementsByTagName("meta"),b;for(var c=0;b=a[c];c++){var d=b.getAttribute("name");if(d=="intent"){var e=b.getAttribute("title"),f=b.getAttribute("href"),g=b.getAttribute("content"),h=b.getAttribute("type"),i=b.getAttribute("icon")||o();m(g,h,f,e,i)}}},q=function(a){var b=a.getAttribute("title"),c=a.getAttribute("href"),d=a.getAttribute("action"),e=a.getAttribute("type"),f=a.getAttribute("icon")||o();!!d!=!1&&m(d,e,c,b,f)},r=function(){var a=document.getElementsByTagName("intent"),b;for(var c=0;b=a[c];c++)q(b)},s=function(a){var b=a.target;if(b.method.toLowerCase()=="intent"){a.preventDefault();var c=b.action,d=b.getAttribute("enctype"),e={},f;for(var g=0;f=b.elements[g];g++)if(!!f.name){var h=f.name;if(!e[h])e[h]=f.value;else if(e[h]instanceof Array)e[h].push(f.value);else{var i=[e[h]];i.push(f.value),e[h]=i}}var j=new n(c,d,e);window.navigator.startActivity(j);return!1}},t=function(a){a.target.tagName=="INTENT"&&q(a.target)},u=function(){window.opener&&window.opener.closed==!1&&f.contentWindow.postMessage(j({request:"launched",name:window.name}),"*")},v=function(){var b=new i;window.Intent=n,window.navigator.startActivity=b.startActivity;if(window.name)try{l(JSON.parse(window.name)),window.name=""}catch(e){u()}else u();!window.postMessage||(f=document.createElement("iframe"),f.style.display="none",f.src=d,a(f,"load",function(){r(),p()},!1),a(document.head,"DOMNodeInserted",t,!1),document.head.appendChild(f)),window.opener&&window.opener.postMessage(j({request:"ready"}),c),a(window,"submit",s,!1)};v()}})();var JSON;JSON||(JSON={}),function(){function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(a)),typeof rep=="function"&&(i=rep.call(b,a,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1)h[c]=str(c,i)||"null";e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g;return e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)typeof rep[c]=="string"&&(d=rep[c],e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g;return e}}function quote(a){escapable.lastIndex=0;return escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function f(a){return a<10?"0"+a:a}"use strict",typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c=="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(b&&typeof b!="function"&&(typeof b!="object"||typeof b.length!="number"))throw new Error("JSON.stringify");return str("",{"":a})}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver=="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")})}()